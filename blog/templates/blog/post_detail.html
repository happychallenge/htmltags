{% extends "base.html" %}
{% load bootstrap3 static %}

{% block css %}
    <link rel="stylesheet" href="{% static 'css/style.css' %}"> 
{% endblock css %}

{% block main %}

<div class="container">
    <div class="ibox">
        <div class="ibox-title">
            <h3> 상세 정보 </h3>
            <div class="ibox-tools">
                <a href="" class="collapse-link">
                    <i class="fa fa-chevron-up"></i>
                </a>
            </div> 
        </div>
        <div class="ibox-content">
            <div class="form-group">
                <div class="row">
                    {{last.content|safe}}
                </div>
            </div>
            <div class="form-group">
                <a href="{% url 'post_list' %}" class="btn btn-default">글 목록으로 돌아가기</a>
                <a href="{% url 'post_edit' last.id %}" class="btn btn-primary pull-right">수 정</a> 
            </div>
        </div>

        <div class="ibox-content">
            <div class="row diff-wrapper">
                <div class="col-md-12" style="display:none">
                    <div class="original">
                        {{before.content|safe}}
                    </div>
                </div>
                <div class="col-md-12" style="display:none">
                    <div class="changed">
                        {{last.content|safe}}
                    </div>
                </div>
                <div class="col-md-12">
                    <h2>업무 규정 변경 내용</h2>
                    <div class="diff1"></div>
                </div>
            </div>
        </div>
    </div>
</div>

{% endblock main %}

{% block javascript %}
<script src="{% static 'js/diff_match_patch/diff_match_patch.js' %}"></script> 
<script src="{% static 'js/preetyTextDiff/jquery.pretty-text-diff.min.js' %}"></script> 

<script>
$(document).ready(function () {

    // Initial diff1
    $(".diff-wrapper").prettyTextDiff({
        diffContainer: ".diff1"
    });
});
</script>
{% endblock javascript %}